<div class="relative w-full min-h-screen overflow-hidden">
    <!-- Decorative blur circles -->
    <div class="blur-circle blur-circle--white-large"></div>
    <div class="blur-circle blur-circle--blue-small"></div>
    <div class="blur-circle blur-circle--green-top-right"></div>
    <div class="blur-circle blur-circle--blue-bottom-left"></div>

    <!-- Main content -->
    <div class="relative z-10 max-w-7xl mx-auto px-6 py-10">
        <!-- Welcome Banner -->
        <div class="welcome-banner" style="border-radius: 16px;">
            <div class="welcome-banner-glow welcome-banner-glow--bottom-left"></div>
            <div>
                <div class="flex items-center gap-2 mb-0.5">
                    <img src="icons/Icon.svg" alt=""
                        style="width: 16px; height: 16px; filter: brightness(0) invert(1);" />
                    <h1 class="welcome-banner-title">Hola, {{ userName }}</h1>
                </div>
                <p class="welcome-banner-subtitle mb-2" style="margin-left: 24px;">Personas sanas, organizaciones
                    fuertes</p>
                <p class="welcome-banner-text">
                    Gracias por cuidar de ti. EmoCheck te acompañará en un recorrido breve para conocer tu bienestar y
                    salud mental. Cada paso que das hacia el autocuidado fortalece no solo tu vida, sino también el
                    ambiente en el que trabajas.
                </p>
            </div>
            <div class="flex flex-wrap gap-2.5">
                <emo-badge icon="icons/Icon (25).svg" [iconSize]="16">
                    Todas tus respuestas son confidenciales
                </emo-badge>
                <emo-badge icon="icons/Icon (26).svg" [iconSize]="16">
                    Tu bienestar es nuestra prioridad
                </emo-badge>
            </div>
        </div>

        <!-- Modules section -->
        <div class="mb-10 mt-8">
            <h2 class="mb-6"
                style="font-family: 'Montserrat', sans-serif; color: #1E2939; font-size: 16px; font-weight: 400; line-height: 24px;">
                Selecciona un módulo para comenzar
            </h2>

            @if (loadingModules) {
            <div class="text-sm text-slate-500">Cargando módulos...</div>
            } @else if (modulesError) {
            <div class="text-sm text-red-600">{{ modulesError }}</div>
            } @else if (!modules?.length) {
            <div class="text-sm text-slate-500">No hay módulos disponibles</div>
            } @else {
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                @for (module of modules; track module.id) {
                <emo-module-card [module]="module" (onStartEvaluation)="startEvaluation($event)"
                    (onViewPlan)="viewPlan($event)">
                </emo-module-card>
                }
            </div>
            }
        </div>

        <!-- Resources section -->
        <div class="relative">
            <!-- Decorative green circle -->
            <div class="blur-circle blur-circle--green-resources"></div>

            <h2 class="mb-6"
                style="font-family: 'Montserrat', sans-serif; color: #1E2939; font-size: 16px; font-weight: 400; line-height: 24px;">
                Centro de Recursos de Bienestar
            </h2>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                @for (resource of resources; track resource.id) {
                <div class="resource-card"
                    [ngClass]="{'resource-card--with-hover-effect': resource.id === 'emotional-calibration' || resource.id === 'professional-support'}">
                    <div class="resource-icon" [ngClass]="resource.iconClass">
                        @if (resource.icon.endsWith('.svg')) {
                        <img [src]="resource.icon" alt=""
                            style="width: 20px; height: 20px; filter: brightness(0) invert(1);" />
                        } @else {
                        <mat-icon [svgIcon]="resource.icon"></mat-icon>
                        }
                    </div>
                    <h3 class="resource-title">{{ resource.title }}</h3>
                    <p class="resource-description">{{ resource.description }}</p>
                    <button class="resource-button" (click)="resource.action()">
                        {{ resource.buttonText }}
                    </button>
                </div>
                }
            </div>
        </div>
    </div>
</div>