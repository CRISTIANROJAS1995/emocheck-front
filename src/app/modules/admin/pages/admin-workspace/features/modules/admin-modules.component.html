<section class="admin-page">
    <header class="admin-page__header">
        <div>
            <h2>Módulos de Evaluación</h2>
            <p>Consulta módulos activos y su configuración.</p>
        </div>
        <a routerLink="/admin" class="admin-page__back">Volver al Centro Admin</a>
    </header>

    <div class="admin-page__filters">
        <label>
            Buscar
            <input [(ngModel)]="search" placeholder="Nombre o descripción" />
        </label>
        <button mat-flat-button color="primary" (click)="load()">Actualizar</button>
    </div>

    <div class="admin-table" *ngIf="!loading">
        <div class="admin-row admin-row--head">
            <div>ID</div>
            <div>Nombre</div>
            <div>Tipo</div>
            <div>Activo</div>
            <div>Max</div>
        </div>

        <div class="admin-row" *ngFor="let row of filteredModules">
            <div>{{ row.assessmentModuleID }}</div>
            <div>{{ row.moduleName || '-' }}</div>
            <div>{{ row.instrumentType || '-' }}</div>
            <div>{{ row.isActive ? 'Sí' : 'No' }}</div>
            <div>{{ row.maxScore ?? '-' }}</div>
        </div>

        <div class="admin-empty" *ngIf="!filteredModules.length">No hay módulos para mostrar.</div>
    </div>

    <div class="admin-empty" *ngIf="loading">Cargando módulos...</div>
</section>