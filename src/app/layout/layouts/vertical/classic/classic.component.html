<!-- Loading bar -->
<fuse-loading-bar></fuse-loading-bar>

<!-- Navigation -->
<fuse-vertical-navigation class="bg-card print:hidden border-r" [mode]="'over'" [name]="'mainNavigation'"
    [navigation]="navigation.default">
    <!-- Navigation header hook -->
    <ng-container fuseVerticalNavigationContentHeader>
        <div class="flex items-center justify-between px-6 pt-8 pb-10">
            <img class="h-32 w-auto" src="images/logo/emocheck-logo.png" alt="EmoCheck" />

            <button mat-icon-button (click)="toggleNavigation('mainNavigation')" aria-label="Cerrar menú">
                <mat-icon svgIcon="heroicons_outline:x-mark"></mat-icon>
            </button>
        </div>
    </ng-container>

    <!-- Navigation footer hook -->
    <ng-container fuseVerticalNavigationContentFooter>
        <div class="px-3 pb-4">
            <div class="my-4 border-t"></div>
            <a class="flex w-full items-center gap-3 rounded-xl px-4 py-3 text-secondary transition-colors hover:bg-red-50 hover:text-red-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-200 dark:hover:bg-red-500/10 dark:hover:text-red-400 dark:focus-visible:ring-red-500/30"
                routerLink="/sign-out">
                <mat-icon class="!text-current" [svgIcon]="'heroicons_outline:arrow-right-on-rectangle'"></mat-icon>
                <span class="text-[17px] font-normal text-current">Cerrar Sesión</span>
            </a>
        </div>
    </ng-container>
</fuse-vertical-navigation>

<!-- Wrapper -->
<div class="flex w-full min-w-0 flex-auto flex-col">
    <!-- Header -->
    <div class="bg-card relative z-49 flex h-16 w-full flex-0 items-center border-b px-4 md:px-6 print:hidden">
        <div class="mx-auto flex w-full max-w-7xl items-center">
            <!-- Left: menu + brand -->
            <div class="flex items-center gap-3">
                <button mat-icon-button (click)="toggleNavigation('mainNavigation')" aria-label="Abrir menú">
                    <mat-icon svgIcon="heroicons_outline:bars-3"></mat-icon>
                </button>

                <div class="flex items-center">
                    <img class="h-8 w-auto" src="images/logo/texto-logo-emocheck.png" alt="EmoCheck" />
                </div>
            </div>

            <!-- Right: actions -->
            <div class="ml-auto flex items-center gap-2">
                <button mat-icon-button aria-label="Notificaciones">
                    <mat-icon svgIcon="heroicons_outline:bell"
                        style="width: 12px; height: 10px; font-size: 12px;"></mat-icon>
                </button>
                <button mat-icon-button aria-label="Ayuda">
                    <mat-icon svgIcon="heroicons_outline:question-mark-circle"
                        style="width: 12px; height: 10px; font-size: 12px;"></mat-icon>
                </button>
                <button mat-icon-button aria-label="Configuración">
                    <mat-icon svgIcon="heroicons_outline:cog-6-tooth"
                        style="width: 12px; height: 10px; font-size: 12px;"></mat-icon>
                </button>
                <user></user>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="flex flex-auto justify-center">
        <div class="w-full max-w-7xl px-6 py-8">
            <!-- *ngIf="true" hack is required here for router-outlet to work correctly.
                 Otherwise, layout changes won't be registered and the view won't be updated! -->
            @if (true) {
            <router-outlet></router-outlet>
            }
        </div>
    </div>

    <!-- Footer -->
    <!-- <div
        class="bg-card relative z-49 flex h-14 w-full flex-0 items-center justify-start border-t px-4 dark:bg-transparent md:px-6 print:hidden">
        <span class="text-secondary font-medium">Fuse &copy; {{ currentYear }}</span>
    </div> -->
</div>

<!-- Quick chat -->
<!-- <quick-chat #quickChat="quickChat"></quick-chat> -->